# Редактор генеалогических деревьев (в разработке)

## Зависимости

Установка зависимостей:

```
npm install
```

# Переменные окружения

Создать файл .env и добавить переменные окружения:

| Переменная     | Описание                    | Значение по умолчанию                 |
|----------------|-----------------------------|---------------------------------------|
| PORT           | Порт                        | 3000                                  |
| HOST           | Хост                        | 127.0.0.1                             |
| NODE_ENV       | Режим работы                | development                           |
| SESSION_SECRET | Сеансовый ключ              | NYFnlb08DUd5er3CioIVWaDiOMzYaIMe      |
| MONGO_URL      | Адрес подключения к MongoDB | mongodb://127.0.0.1:27017/family-tree |

# Конфигурирование

## Morgan

Настроить логирование morgan в режиме разработки в файле ./config/Logger.js (добавить или удалить токен)

## Nodemailer

Настроить Nodemailer для отправки писем:

* указать в .env переменные:
    * NODEMAILER_USER=email_address
    * NODEMAILER_PASS=password

Возможно будет необходимо настроить права доступа на почтовом сервере. На примере Yandex:
* Yandex > Настройки > Акканут > Безопасность > Пароли приложений > Создать новый пароль
* Этот пароль указывать в NODEMAILER_PASS
* Yandex Почта > Настройки > Почтовые программы > Разрешить доступ к почтовому ящику с помощью почтовых клиентов > С сервера по протоколу IMAP > Способ авторизации по IMAP: Пароли приложений и OAuth-токены

# Сущности

* User — пользователь
* Tree — генеалогическое древо
* Person — персоналии (листья древа)

# Запуск

```
npm start
```

В режиме разработки:

```
npm run dev
```

# Тестирование

```
npm test
```

# Справка по API

SwaggerUI в режиме разработки: /api/docs